{"version":3,"file":"component---src-pages-cabinet-js-71a9ee4fb156047457dd.js","mappings":"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","sources":["webpack://they-work-for-us/./src/components/cabinetMemberSection/CabinetMemberList.js","webpack://they-work-for-us/./src/components/cabinetMemberSection/index.js","webpack://they-work-for-us/./src/pages/cabinet.js"],"sourcesContent":["import React from \"react\"\n\nimport PeopleCard from \"../peopleCard\"\nimport { sortThaiLocale } from \"../../utils\"\n\nexport const CabinetMemberList = ({ members, title }) => {\n  let list = [...members]\n  list.sort(sortThaiLocale)\n  list = list.map(member => {\n    // keep only 'cabinet_position' of the current section title\n    const position = member.cabinet_position\n      .filter(pos => pos.indexOf(title) >= 0)\n      .join(\", \")\n    return (\n      <PeopleCard\n        key={member.id}\n        {...member}\n        cabinet_position={position}\n        type=\"cabinet\"\n      ></PeopleCard>\n    )\n  })\n\n  return (\n    <div\n      css={{\n        marginBottom: \"6rem\",\n      }}\n    >\n      <h2\n        css={{\n          textAlign: \"center\",\n          fontSize: \"3.6rem\",\n          margin: \"3rem\",\n        }}\n      >\n        {title}\n      </h2>\n      <div\n        css={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          margin: \"0 auto\",\n          justifyContent: \"center\",\n        }}\n      >\n        {list}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { CabinetMemberList } from \"./CabinetMemberList\"\n\nconst CabinetMemberSection = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allPeopleYaml(\n        filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n      ) {\n        edges {\n          node {\n            id\n            title\n            name\n            lastname\n            cabinet_position\n            party\n            party_group\n            mp_type\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const ministryList = [\n    \"รองนายกรัฐมนตรี\",\n    \"สำนักนายกรัฐมนตรี\",\n    \"กระทรวงกลาโหม\",\n    \"กระทรวงการคลัง\",\n    \"กระทรวงการต่างประเทศ\",\n    \"กระทรวงการท่องเที่ยวและกีฬา\",\n    \"กระทรวงพัฒนาสังคมและความมั่นคงของมนุษย์\",\n    \"กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัยและนวัตกรรม\",\n    \"กระทรวงเกษตรและสหกรณ์\",\n    \"กระทรวงคมนาคม\",\n    \"กระทรวงดิจิทัลเพื่อเศรษฐกิจและสังคม\",\n    \"กระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม\",\n    \"กระทรวงพลังงาน\",\n    \"กระทรวงพาณิชย์\",\n    \"กระทรวงมหาดไทย\",\n    \"กระทรวงยุติธรรม\",\n    \"กระทรวงแรงงาน\",\n    \"กระทรวงวัฒนธรรม\",\n    \"กระทรวงศึกษาธิการ\",\n    \"กระทรวงสาธารณสุข\",\n    \"กระทรวงอุตสาหกรรม\",\n  ]\n\n  // president need special filter\n  const presidentMinistry = \"นายกรัฐมนตรี\"\n  const presidentList = data.allPeopleYaml.edges.filter(people =>\n    people.node.cabinet_position.some(\n      peoplePosition => peoplePosition === presidentMinistry\n    )\n  )\n\n  const positionComparer = ministry => (a, b) => {\n    const aPosition = a.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n    const bPosition = b.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n\n    if (aPosition === bPosition) return -1\n\n    return aPosition.indexOf(\"ช่วย\") > -1 ? 1 : -1\n  }\n\n  const memberByMinistry = [\n    {\n      ministry: presidentMinistry,\n      members: presidentList,\n    },\n  ].concat(\n    ministryList.map(ministry => ({\n      ministry,\n      members: data.allPeopleYaml.edges\n        .filter(people =>\n          people.node.cabinet_position.some(\n            peoplePostion => peoplePostion.indexOf(ministry) > -1\n          )\n        )\n        .sort(positionComparer(ministry)),\n    }))\n  )\n\n  const renderCabinetMemberLists = () =>\n    memberByMinistry.map(({ ministry, members: memberList }) => {\n      const memberListWithImg = memberList.map(member => ({\n        ...member.node,\n      }))\n      return (\n        <CabinetMemberList\n          key={ministry}\n          members={memberListWithImg}\n          title={ministry}\n        />\n      )\n    })\n\n  return <div>{renderCabinetMemberLists()}</div>\n}\n\nexport default CabinetMemberSection\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { loadCategoryStats, formatOrdinalNumber } from \"../utils\"\nimport StackedBarChart from \"../components/stackedBarChart\"\nimport { OfficialWebsite, InOfficeDate } from \"../components/profile\"\nimport CabinetMemberSection from \"../components/cabinetMemberSection\"\nimport { media } from \"../styles\"\n\nimport \"../styles/profile-book.css\"\n\nexport const query = graphql`\n  {\n    cabinet: partyYaml(party_type: { eq: \"ครม\" }) {\n      name\n      party_ordinal\n      description\n      established_date\n      dissolved_date\n      website\n      facebook\n      twitter\n      is_active\n    }\n    allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      totalCount\n    }\n    gender: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: { gender: SELECT }) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    education: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: { education: SELECT }) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    occupation_group: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: { occupation_group: SELECT }) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    age: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      edges {\n        node {\n          birthdate\n        }\n      }\n    }\n    asset: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      edges {\n        node {\n          asset\n        }\n      }\n    }\n  }\n`\n\nconst cssH1 = {\n  fontSize: \"4rem\",\n}\n\nconst cssEngTitle = {\n  fontSize: \"2.4rem\",\n  textAlign: \"left\",\n  margin: \"1.5rem 0 1.2rem 0\",\n}\n\nconst cssPageP = {}\n\nconst cssBarChart = {\n  margin: \"1rem 0\",\n}\n\nconst CabinetPage = props => {\n  const { cabinet, ...data } = props.data\n  const { gender, age, education, occupation_group, asset } = loadCategoryStats(\n    data\n  )\n\n  return (\n    <Layout pageStyles={{ background: \"#c0e4ff\" }}>\n      <Seo title=\"คณะรัฐมนตรี\" />\n\n      <section className=\"section\">\n        <div className=\"book\">\n          <div className=\"page leftPage\">\n            <h1 css={{ ...cssH1, margin: \"1rem 0 0 0\" }}>\n              {cabinet.name} ชุดที่ {cabinet.party_ordinal}\n            </h1>\n            <h2 style={{ ...cssEngTitle }}>\n              <span\n                dangerouslySetInnerHTML={{\n                  __html: formatOrdinalNumber(cabinet.party_ordinal),\n                }}\n              />{\" \"}\n              Cabinet\n            </h2>\n            <h2 css={{ ...cssEngTitle }}>About</h2>\n            <p css={{ ...cssPageP }}>{cabinet.description}</p>\n            <h2 css={{ ...cssEngTitle }}>Official Link</h2>\n            <OfficialWebsite {...cabinet}></OfficialWebsite>\n            <h2 css={{ ...cssEngTitle }}>In Office</h2>\n            <InOfficeDate {...cabinet}></InOfficeDate>\n          </div>\n          <div className=\"page\">\n            <h2\n              css={{\n                ...cssEngTitle,\n                [media(767)]: {\n                  marginTop: \"11rem\",\n                  marginBottom: \"0rem\",\n                },\n              }}\n            >\n              Members\n            </h2>\n            <h2\n              css={{\n                ...cssEngTitle,\n                fontFamily: \"var(--ff-text)\",\n                fontWeight: \"normal\",\n              }}\n            >\n              คณะรัฐมนตรีจำนวน {data.allPeopleYaml.totalCount} คน\n            </h2>\n            <div css={{ width: \"100%\" }}>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={gender}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={age}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={education}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={occupation_group}></StackedBarChart>\n              </div>\n              <div style={{ ...cssBarChart }}>\n                <StackedBarChart data={asset}></StackedBarChart>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"section\" css={{ background: \"var(--cl-white)\" }}>\n        <h1 css={{ fontSize: \"4.8rem\", textAlign: \"center\" }}>สมาชิกทั้งหมด</h1>\n        <div className=\"container\">\n          <CabinetMemberSection />\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default CabinetPage\n"],"names":["CabinetMemberList","members","title","list","sort","sortThaiLocale","map","member","position","cabinet_position","filter","pos","indexOf","join","key","id","type","css","data","useStaticQuery","presidentMinistry","presidentList","allPeopleYaml","edges","people","node","some","peoplePosition","positionComparer","ministry","a","b","aPosition","find","memberByMinistry","concat","peoplePostion","memberList","memberListWithImg","cssH1","fontSize","cssEngTitle","textAlign","margin","cssPageP","cssBarChart","props","cabinet","gender","age","education","occupation_group","asset","loadCategoryStats","pageStyles","background","className","name","party_ordinal","style","dangerouslySetInnerHTML","__html","formatOrdinalNumber","description","media","marginTop","marginBottom","fontFamily","fontWeight","totalCount"],"sourceRoot":""}