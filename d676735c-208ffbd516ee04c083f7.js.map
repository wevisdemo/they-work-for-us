{"version":3,"file":"d676735c-208ffbd516ee04c083f7.js","mappings":"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","sources":["webpack://they-work-for-us/./src/pages/index.js"],"sourcesContent":["import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\nimport { media } from \"../styles\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport Button from \"../components/button\"\nimport Hero from \"../components/hero\"\nimport VoteLogCard from \"../components/voteLogCard\"\nimport WaffleFilter from \"../components/waffleFilter\"\nimport PartyGroupList from \"../components/partyGroupList\"\nimport { Autocomplete, ZoneDialog } from \"../components/search\"\nimport CardGrid from \"../components/cardGrid\"\n\nexport const query = graphql`\n  {\n    cabinet: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      totalCount\n    }\n    senator: allPeopleYaml(\n      filter: { is_senator: { eq: true }, is_active: { eq: true } }\n    ) {\n      totalCount\n    }\n    allPeopleYaml {\n      totalCount\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          birthdate(fromNow: true)\n          degree\n          education\n          ex_occupation\n          graduation\n          gender\n          occupation_group\n          name\n          lastname\n          title\n          cabinet_position\n          is_active\n          is_cabinet\n          is_senator\n          is_mp\n          mp_type\n          mp_list\n          mp_province\n          mp_zone\n          party\n          images {\n            url\n          }\n        }\n      }\n    }\n    allVotelogYaml(\n      filter: { is_active: { eq: true } }\n      limit: 6\n      sort: { vote_date: DESC }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          fields {\n            slug\n          }\n          title\n          description_th\n          passed\n          approve\n          disprove\n          abstained\n          absent\n          vote_date\n        }\n      }\n    }\n    cabinetImage: file(\n      relativePath: { eq: \"images/icons/cabinet/cabinet.png\" }\n    ) {\n      childImageSharp {\n        gatsbyImageData(width: 60, layout: FIXED)\n      }\n    }\n    senateImage: file(relativePath: { eq: \"images/icons/senate/senate.png\" }) {\n      childImageSharp {\n        gatsbyImageData(width: 60, layout: FIXED)\n      }\n    }\n    representativeImage: file(\n      relativePath: { eq: \"images/icons/representative/representative.png\" }\n    ) {\n      childImageSharp {\n        gatsbyImageData(width: 60, layout: FIXED)\n      }\n    }\n  }\n`\n\nconst cssH1 = { fontSize: \"4.8rem\", marginTop: \"4rem\" }\n\nconst cssSection = {\n  display: \"flex\",\n  paddingTop: \"3rem\",\n  paddingBottom: \"8rem\",\n  h2: {\n    fontSize: \"4.8rem\",\n  },\n  h3: {\n    fontSize: \"2.1rem\",\n  },\n  flexDirection: \"column\",\n  [media(821)]: {\n    flexDirection: \"row\",\n  },\n}\nconst cssSectionWhite = {\n  ...cssSection,\n  background: \"var(--cl-white)\",\n}\nconst cssSectionBlack = {\n  ...cssSection,\n  color: \"var(--cl-white)\",\n  background: \"var(--cl-black)\",\n  h2: {\n    ...cssSection.h2,\n    color: \"var(--cl-white)\",\n  },\n}\n\nconst cssPartyTypeCard = {\n  display: \"flex\",\n  flexDirection: \"column\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  minHeight: \"300px\",\n  padding: \"2rem\",\n  borderRadius: \"10px\",\n  color: \"var(--cl-white)\",\n  background: \"var(--cl-black)\",\n\n  width: `calc((var(--container-width) - 4rem) / 2)`,\n  \"&:hover\": {\n    background: \"var(--cl-gray-0)\",\n    textDecoration: \"none\",\n  },\n  h3: {\n    color: \"var(--cl-white)\",\n    fontSize: \"3.6rem\",\n  },\n  h4: {\n    color: \"var(--cl-white)\",\n    fontSize: \"2.4rem\",\n    fontFamily: \"var(--ff-text)\",\n    fontWeight: \"normal\",\n  },\n}\n\nconst IndexPage = ({ data }) => {\n  const [isZoneDialog, setIsZoneDialog] = React.useState(false)\n  const [selected, setSelected] = React.useState()\n  const [zones, setZones] = React.useState([])\n  const [autocompleteRef, setAutocompleteRef] = React.useState(null)\n\n  const onZoneDialogClose = (e) => {\n    setIsZoneDialog(e)\n    autocompleteRef.clearValue();\n  }\n\n  return (\n    <Layout\n      pageStyles={{\n        background: \"var(--cl-people-section)\",\n      }}\n    >\n      <Seo title=\"Home\" />\n      {isZoneDialog && selected && (\n        <ZoneDialog\n          selected={selected}\n          zones={zones}\n          setIsZoneDialog={onZoneDialogClose}\n          allPeople={data.allPeopleYaml.edges}\n        />\n      )}\n      <section\n        css={{\n          ...cssSection,\n        }}\n        className=\"container\"\n      >\n        <div\n          css={{\n            width: \"100%\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            textAlign: \"center\",\n            [media(821)]: {\n              marginBottom: \"3rem\",\n              alignItems: \"start\",\n            },\n          }}\n        >\n          <h1\n            css={{\n              fontSize: \"6rem\",\n              fontWeight: \"bold\",\n              marginTop: 0,\n              marginBottom: \"1rem\",\n              paddingTop: \"6rem\",\n            }}\n          >\n            ใครคือผู้แทนของเรา\n          </h1>\n          <h2>ค้นหา ตรวจสอบ โปร่งใส</h2>\n          <strong\n            css={{\n              [media(821)]: {\n                marginBottom: \"8rem\",\n              },\n            }}\n          >\n            อัพเดตข้อมูล:{\" \"}\n            {new Date().toLocaleDateString(\"TH-th\", { dateStyle: \"long\" })}\n          </strong>\n          <h3\n            css={{\n              marginTop: \"30px\",\n              [media(821)]: {\n                marginTop: \"4rem\",\n              },\n            }}\n          >\n            ค้นหา ส.ส. เขตบ้านเรา\n          </h3>\n          <Autocomplete\n            setIsZoneDialog={setIsZoneDialog}\n            setSelected={setSelected}\n            selected={selected}\n            setZones={setZones}\n            setRef={setAutocompleteRef}\n          />\n          <hr\n            css={{\n              margin: \"40px 0\",\n              borderTop: \"2px #000 solid\",\n              width: \"calc(100% - 5rem)\",\n              maxWidth: \"600px\",\n              [media(821)]: {\n                display: \"none\",\n              },\n            }}\n          />\n        </div>\n        <Hero />\n      </section>\n\n      <section\n        css={{\n          ...cssSectionWhite,\n        }}\n      >\n        <div className=\"container\">\n          <WaffleFilter\n            // key=\"parliament\"\n            data={data.allPeopleYaml.edges}\n          />\n        </div>\n      </section>\n\n      <section\n        css={{\n          ...cssSectionBlack,\n        }}\n      >\n        <div className=\"container\">\n          <h2 css={{ ...cssH1 }}>สรุปผลการลงมติล่าสุด</h2>\n          <CardGrid>\n            {data.allVotelogYaml.edges.map(\n              ({ node: { id, fields, ...votelog } }) => (\n                <VoteLogCard key={id} slug={fields.slug} {...votelog} />\n              )\n            )}\n          </CardGrid>\n          <div\n            css={{\n              textAlign: \"center\",\n              margin: \"4.8rem 0 0 0\",\n            }}\n          >\n            <Button to=\"/votelog\">ดูทั้งหมด</Button>\n          </div>\n        </div>\n      </section>\n\n      <section\n        css={{\n          ...cssSectionWhite,\n        }}\n      >\n        <div className=\"container\">\n          <h2 css={{ ...cssH1 }}>สำรวจตามชนิดและสังกัดผู้แทน</h2>\n\n          <div\n            css={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"flex-start\",\n              flexWrap: \"wrap\",\n              marginTop: \"6rem\",\n              gap: \"1rem\",\n            }}\n          >\n            <Link to={\"/cabinet\"} css={cssPartyTypeCard}>\n              <GatsbyImage\n                image={data.cabinetImage.childImageSharp.gatsbyImageData}\n                alt=\"\"\n                aria-hidden=\"true\"\n                css={{ marginBottom: \"1.2rem\" }}\n              />\n              <h3>คณะรัฐมนตรี</h3>\n              <h4>{data.cabinet.totalCount} คน</h4>\n            </Link>\n            <Link to={\"/senate\"} css={cssPartyTypeCard}>\n              <GatsbyImage\n                image={data.senateImage.childImageSharp.gatsbyImageData}\n                alt=\"\"\n                aria-hidden=\"true\"\n                css={{ marginBottom: \"1.2rem\" }}\n              />\n              <h3>สมาชิกวุฒิสภา</h3>\n              <h4>{data.senator.totalCount} คน</h4>\n            </Link>\n          </div>\n\n          <div css={{ marginTop: \"4rem\" }}>\n            <div\n              css={{\n                marginBottom: \"1.2rem\",\n                textAlign: \"center\",\n              }}\n            >\n              <GatsbyImage\n                style={{ margin: \"auto\" }}\n                image={data.representativeImage.childImageSharp.gatsbyImageData}\n                alt=\"\"\n                aria-hidden=\"true\"\n              />\n            </div>\n            <h3\n              css={{\n                fontSize: \"3.6rem\",\n                textAlign: \"center\",\n              }}\n            >\n              <Link\n                to={\"/representatives\"}\n                css={{\n                  color: \"var(--cl-black)\",\n                }}\n              >\n                สมาชิกสภาผู้แทนราษฎร\n              </Link>\n            </h3>\n            <PartyGroupList\n              paneHeaderStyle={{\n                textAlign: \"center\",\n                fontSize: \"2.4rem\",\n              }}\n            />\n            <div\n              css={{\n                textAlign: \"center\",\n                margin: \"4.8rem 0 0 0\",\n              }}\n            >\n              <Button to=\"/representatives\">ดู ส.ส. ทั้งหมด</Button>\n            </div>\n          </div>\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"names":["cssH1","fontSize","marginTop","cssSection","display","paddingTop","paddingBottom","h2","h3","flexDirection","media","cssSectionWhite","background","cssSectionBlack","color","cssPartyTypeCard","justifyContent","alignItems","minHeight","padding","borderRadius","width","textDecoration","h4","fontFamily","fontWeight","data","isZoneDialog","setIsZoneDialog","React","selected","setSelected","zones","setZones","autocompleteRef","setAutocompleteRef","pageStyles","title","e","clearValue","allPeople","allPeopleYaml","edges","css","className","textAlign","marginBottom","Date","toLocaleDateString","dateStyle","setRef","margin","borderTop","maxWidth","allVotelogYaml","map","node","id","fields","votelog","key","slug","to","Link","G","image","cabinetImage","childImageSharp","gatsbyImageData","alt","cabinet","totalCount","senateImage","senator","style","representativeImage","paneHeaderStyle"],"sourceRoot":""}