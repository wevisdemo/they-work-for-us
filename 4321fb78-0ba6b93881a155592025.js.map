{"version":3,"file":"4321fb78-0ba6b93881a155592025.js","mappings":"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","sources":["webpack://they-work-for-us/./src/pages/motions.js"],"sourcesContent":["import React from \"react\"\nimport _ from \"lodash\"\nimport { graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport FloatingCard from \"../components/floatingCard\"\nimport HiddenOnMobile from \"../components/hiddenOnMobile\"\nimport { media } from \"../styles\"\nimport ExternalLink from \"../components/externalLink\"\nimport MotionSubCatCard from \"../components/motionSubCatCard\"\nimport BarChart from \"../components/motion/barchart\"\nimport { css } from \"@emotion/react\"\nimport StatusBarChart from \"../components/motion/statusBarChart\"\nimport { statusColors } from \"../components/motionStatusChip\"\n\nexport const query = graphql`\n  query {\n    categories: allMotionCatYaml {\n      edges {\n        node {\n          main_cat\n          sub_cat\n        }\n      }\n    }\n\n    motions: allMotionYaml {\n      edges {\n        node {\n          main_cat\n          sub_cat\n          status\n        }\n      }\n    }\n  }\n`\n\nconst mobileBP = \"(max-width: 765px)\"\n\nconst cssH1 = { fontSize: \"4.8rem\", margin: \"0\", color: \"var(--cl-black)\" }\nconst cssH2 = { fontSize: \"3.6rem\", marginBottom: \"2.4rem\" }\nconst cssH3 = { fontSize: \"2.4rem\", margin: \"5.2rem 0 2.8rem 0\" }\nconst cssP = { lineHeight: \"1.8\" }\nconst cssH3Viz = { ...cssH3, marginBottom: \"10px\" }\n\nconst IndexPage = ({ data }) => {\n  const mainCatGroupCount = _.groupBy(data.motions.edges, d => d.node.main_cat)\n  const barchartdata = Object.entries(mainCatGroupCount).map(\n    ([category, motions]) => ({\n      category,\n      count: motions.length,\n    })\n  )\n\n  const STATUS_COLOR = color => statusColors[color]\n  const statusGroupCount = _.groupBy(data.motions.edges, d => d.node.status)\n  const statusdata = Object.entries(statusGroupCount)\n    .map(([status, motions]) => ({\n      status,\n      count: motions.length,\n      color: STATUS_COLOR(status),\n    }))\n    .sort((a, b) => +a.status.slice(0, 1) - +b.status.slice(0, 1))\n  const VOTED = [\n    \"3. ตั้ง กมธ. วิสามัญ\",\n    \"4. ไม่ตั้ง กมธ. วิสามัญ\",\n    \"5. ส่งครม.\",\n  ]\n  const voteddata = statusdata.filter(d => VOTED.includes(d.status))\n  const notvoteddata = statusdata.filter(d => !VOTED.includes(d.status))\n\n  const getCategoryGroups = () => {\n    let subCats = data.categories.edges.map(({ node }) =>\n      convertToSubCategory(node)\n    )\n    let grouped = _.groupBy(subCats, node => node.mainCat)\n    let catGroups = []\n    for (const key in grouped) {\n      catGroups.push({\n        title: key,\n        subCats: grouped[key],\n      })\n    }\n\n    return catGroups\n  }\n\n  const convertToSubCategory = category => ({\n    title: category.sub_cat,\n    mainCat: category.main_cat,\n    totalCount: getTotalCountOfSubCategory(category.sub_cat),\n  })\n\n  const getTotalCountOfSubCategory = subCategory =>\n    data.motions.edges.filter(({ node }) => node.sub_cat === subCategory).length\n\n  return (\n    <Layout\n      pageStyles={{\n        background: \"#FDFDFD\",\n      }}\n    >\n      <Seo title=\"Motions\" />\n      <div style={{ backgroundColor: \"var(--cl-black)\", padding: \"1.6rem\" }}>\n        <div\n          className=\"container-motion\"\n          style={{ color: \"var(--cl-white)\", textAlign: \"center\" }}\n        >\n          เนื่องจากข้อมูลอยู่ระหว่างการรวบรวมและบันทึก\n          ส่วนที่แสดงในเว็บไซต์จึงเป็นแค่ส่วนหนึ่งจากข้อมูลทั้งหมด\n          หากต้องการท่านสามารถดูข้อมูลทั้งหมดได้\n          <ExternalLink\n            href=\"https://lis.parliament.go.th/index/search_advance_detail.php?S_SYSTEM=8\"\n            style={{\n              marginLeft: \"0.5rem\",\n              color: \"var(--cl-white)\",\n              textDecoration: \"underline\",\n            }}\n          >\n            ที่นี่\n          </ExternalLink>\n        </div>\n      </div>\n      <section>\n        <div className=\"container-motion\">\n          <div\n            css={{\n              color: \"var(--cl-gray-2)\",\n              textAlign: \"right\",\n              margin: \"2rem 0 3.2rem 0\",\n            }}\n          >\n            ข้อมูลล่าสุดวันที่ 25 กันยายน 2563\n          </div>\n        </div>\n      </section>\n      <section>\n        <FloatingCard\n          style={{\n            padding: \"4rem\",\n            maxWidth: \"calc(var(--container-motion-width) - 64px)\",\n            margin: \"0 auto\",\n          }}\n        >\n          <div\n            css={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              [media(767)]: {\n                justifyContent: \"space-between\",\n              },\n            }}\n          >\n            <h1 css={{ ...cssH1 }}>การพิจารณาญัตติตั้งคณะกรรมธิการวิสามัญ</h1>\n            <HiddenOnMobile>\n              <div>สภาผู้แทนราษฎรไทยชุดที่ 25</div>\n            </HiddenOnMobile>\n          </div>\n          <div\n            css={{\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div css={{ width: \"100%\", [media(767)]: { width: \"32%\" } }}>\n              <h3 css={cssH3}>Motions</h3>\n              <p css={cssP}>\n                การพิจารณาญัตติทั่วไป หมายถึง เรื่อง ปัญหา หรือประเด็นที่ ส.ส.\n                เสนอเข้าสู่การพิจารณาของสภาผู้แทนราษฎร ให้มีการลงมติ\n                เพื่อกำหนดแนวทางการศึกษา แก้ปัญหา เป็นแนวทางในการปฏิบัติต่อไป\n                เช่น การเสนอญัตติเพื่อให้สภาผู้แทนราษฎรตั้งกรรมาธิการวิสามัญ\n                ศึกษาวิธีแก้ปัญหาเฉพาะเรื่อง\n                เพื่อนำผลการศึกษาเสนอแนวการแก้ปัญหาต่อคณะรัฐมนตรี เป็นต้น\n                ซึ่งกระบวนการพิจารณาญัตติทั่วไปจะมีรายละเอียดที่แตกต่างกับกระบวนการพิจารณาร่างกฎหมาย\n              </p>\n              <p css={cssP}>\n                กรรมาธิการวิสามัญที่ตั้งขึ้น ประกอบด้วย ส.ส.\n                และบุคคลภายนอกตาโควต้าของพรรคการเมือง\n                ซึ่งจะมีหน้าที่แตกต่างกับกรรมาธิการสามัญทั้ง 35\n                คณะของสภาผู้แทนราษฎร\n              </p>\n              <h3 css={cssH3}>Official Source</h3>\n              <ExternalLink\n                css={{ color: \"var(--cl-black)\" }}\n                href=\"https://lis.parliament.go.th\"\n              >\n                lis.parliament.go.th\n              </ExternalLink>\n            </div>\n            <div\n              css={css`\n                display: flex;\n                flex-flow: column nowrap;\n                width: 64%;\n\n                @media ${mobileBP} {\n                  width: 100%;\n                }\n\n                & .toprow,\n                & .bottomrow {\n                  display: flex;\n\n                  &--col {\n                    flex: 0 0 50%;\n                    display: flex;\n\n                    flex-flow: column nowrap;\n\n                    @media ${mobileBP} {\n                      flex: 1;\n                    }\n\n                    &__allmotion {\n                      @media ${mobileBP} {\n                        display: none;\n                      }\n                    }\n                  }\n                }\n\n                & .toprow {\n                  flex: 1;\n                }\n\n                & .bottomrow {\n                  flex: 0 0 250px;\n\n                  @media ${mobileBP} {\n                    flex: 1;\n                    flex-flow: row wrap;\n                  }\n\n                  &--col {\n                    padding: 0 20px;\n                  }\n\n                  &--col + .bottomrow--col {\n                    border-left: 1px solid var(--cl-gray-4);\n\n                    @media ${mobileBP} {\n                      border: none;\n                    }\n                  }\n                }\n              `}\n            >\n              <div className=\"toprow\">\n                <div className=\"toprow--col toprow--col__allmotion\">\n                  <h3 css={cssH3Viz}>ญัตติทั้งหมด</h3>\n                  <div\n                    css={css`\n                      flex: 1;\n                      display: flex;\n                      justify-content: center;\n                      align-items: center;\n                    `}\n                  >\n                    <div\n                      className=\"allmotion-circle\"\n                      css={css`\n                        width: 150px;\n                        height: 150px;\n                        background-color: rgb(250, 250, 250);\n                        border: 1px solid var(--cl-gray-4);\n                        border-radius: 100%;\n\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                      `}\n                    >\n                      <div\n                        className=\"allmotion-text\"\n                        css={css`\n                          font-size: 50px;\n                          font-family: var(--ff-title);\n                        `}\n                      >\n                        {data.motions.edges.length}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"toprow--col toprow--col__motioncount\">\n                  <h3 css={cssH3Viz}>สัดส่วนประเด็น</h3>\n                  <div\n                    className=\"bar-wrapper\"\n                    css={css`\n                      height: calc(100% - 36px - 5.2rem);\n                      display: flex;\n                      align-items: center;\n                    `}\n                  >\n                    <BarChart\n                      data={barchartdata}\n                      xTicks={[0, 10, 20, 30, 40, 50, 60, 70]}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"bottomrow\">\n                <div className=\"bottomrow--col bottomrow--col__notvoted\">\n                  <h3 css={cssH3Viz}>ยังไม่ลงมติ</h3>\n                  <StatusBarChart width={`100%`} data={notvoteddata} />\n                </div>\n                <div className=\"bottomrow--col bottomrow--col__voted\">\n                  <h3 css={cssH3Viz}>ลงมติแล้ว</h3>\n                  <StatusBarChart width=\"100%\" data={voteddata} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </FloatingCard>\n      </section>\n      <section style={{ marginTop: \"8rem\" }}>\n        <div className=\"container-motion\">\n          <div>\n            <h2 css={cssH2}>ประเด็นญัตติ</h2>\n            <p>\n              คลิกเพื่อดูญัตติทั้งหมดในประเด็นต่างๆ\n              ที่นำเสนอโดยคณะกรรมธิการสามัญ\n            </p>\n          </div>\n          <div css={{ marginBottom: \"8rem\" }}>\n            {getCategoryGroups().map(catGroup => (\n              <div>\n                <h3 style={cssH3}>{catGroup.title}</h3>\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                  }}\n                >\n                  {catGroup.subCats.map(subCat => (\n                    <MotionSubCatCard\n                      title={subCat.title}\n                      count={subCat.totalCount}\n                      css={{\n                        margin: \"0 0 2rem 0\",\n                        width: \"100%\",\n                        [media(767, 1022)]: {\n                          width: \"calc((100% - 4rem) / 2)\",\n                          margin: \"0 2rem 2rem 0\",\n                          \"&:nth-of-type(2n)\": {\n                            margin: \"0 0 2rem 0\",\n                          },\n                        },\n                        [media(1023)]: {\n                          width: \"calc((100% - 4rem) / 3)\",\n                          margin: \"0 2rem 2rem 0\",\n                          \"&:nth-of-type(3n)\": {\n                            margin: \"0 0 2rem 0\",\n                          },\n                        },\n                      }}\n                    ></MotionSubCatCard>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"names":["mobileBP","cssH1","fontSize","margin","color","cssH2","marginBottom","cssH3","cssP","lineHeight","cssH3Viz","data","mainCatGroupCount","motions","edges","d","node","main_cat","barchartdata","Object","entries","map","category","count","length","statusGroupCount","status","statusdata","statusColors","sort","a","b","slice","VOTED","voteddata","filter","includes","notvoteddata","convertToSubCategory","title","sub_cat","mainCat","totalCount","getTotalCountOfSubCategory","subCategory","pageStyles","background","style","backgroundColor","padding","className","textAlign","href","marginLeft","textDecoration","css","maxWidth","display","justifyContent","alignItems","media","width","xTicks","marginTop","subCats","categories","grouped","catGroups","key","push","getCategoryGroups","catGroup","flexWrap","subCat"],"sourceRoot":""}